<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
  </head>
  <body>
    <table border="1">
      <thead>
        <th>Fname</th>
        <th>Lname</th>
        <th>Email</th>
        <th>Edit</th>
        <th>delete</th>
      </thead>
      <tbody id="myTable"></tbody>
    </table>
    <script>
      var data = [
        {
          fname: "Xiaoyan",
          lname: "Kvasnak",
          tel: "(850)106-0019"
        },
        {
          fname: "Ning",
          lname: "Kehr",
          tel: "(568)519-7136"
        },
        {
          fname: "Chunlei",
          lname: "Weeks",
          tel: "(811)664-6186"
        },
        {
          fname: "Lois",
          lname: "Pitts",
          tel: "(524)927-8024"
        }
      ];

      // TO create Table Rows
      for (i = 0; i < data.length; i++) {
        var myTr = document.createElement("tr");
        addTds(data[i], i, myTr);
        document.getElementById("myTable").appendChild(myTr);
      }

      //TO Create Table Details (Td)
      function addTds(obj, i, myTr) {
        for (a in obj) {
          var myTd = document.createElement("td");
          myTd.innerHTML = obj[a];
          myTr.appendChild(myTd);
        }
        var editTd = document.createElement("td");
        var editBtn = document.createElement("button");
        editBtn.innerHTML = "Edit";
        editBtn.setAttribute("onclick", "editUser(" + i + ")");
        editTd.appendChild(editBtn);
        myTr.appendChild(editTd);

        var deleteTd = document.createElement("td");
        var delBtn = document.createElement("button");
        delBtn.innerHTML = "Delete";
        delBtn.setAttribute("onclick", "delUser(" + i + ")");
        deleteTd.appendChild(delBtn);
        myTr.appendChild(deleteTd);
      }

      function editUser(i) {
        alert("editUser called " + i);
      }
      function delUser(i) {
        // alert("delUser called " + i);
        data.splice(i, 1);
        displayUsers(data);
      }

      function displayUsers(data) {
        document.getElementById("myTable").innerHTML = "";
        for (i = 0; i < data.length; i++) {
          var myTr = document.createElement("tr");
          addTds(data[i], i, myTr);
          document.getElementById("myTable").appendChild(myTr);
        }
      }
    </script>
  </body>
</html>
